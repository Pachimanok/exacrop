<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exacrop :: Dashboard</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">

    <!-- FontAwesome -->
    <script src="https://kit.fontawesome.com/c26c8bd214.js" crossorigin="anonymous"></script>

</head>

<body>

    <a data-bs-toggle="offcanvas" href="#offcanvasExample" role="button" aria-controls="offcanvasExample">
        <i class="fa fa-bars p-4" style="font-size: x-large;color:#fc444c"></i>
    </a>
    <div class="container pl-3">
        <div class="row g-3">
            <div class="col">
                <h2>Registro de Riego</h2>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-5">
                <div class="card mt-5" style="border:none;">
                    <div class="card-body">
                        <div class="row mt-3">
                            <label for="select" style="color: #fc444c;">Campo:</label>
                            <select class="form-control" id="campo" style="border-top: none !important;
                            border-right: none;
                            border-left: none;">
                                <option value="">Elegir Campo</option>
                                <option value="">Campo 1</option>
                                <option value="">Campo 2</option>
                                <option value="">Campo 3</option>
                                <option value="">Campo 4</option>
                            </select>
                        </div>
                        <div class="row mt-3">
                            <label for="select" style="color: #fc444c;">Tipo de Riego:</label>
                            <select class="form-control" id="tipo" style="border-top: none !important;
                            border-right: none;
                            border-left: none;">
                                <option value="Goteo" class="text-secondary">Goteo</option>
                                <option value="">Con Mangera</option>
                                <option value="">Goteo</option>
                                <option value="">Manto</option>
                            </select>
                        </div>
                        <div class="row mt-3">
                            <label for="select" style="color: #fc444c;">Fecha:</label>

                            <input type="date" class="form-control" id="fecha" style="border-top: none !important;
                            border-right: none;
                            border-left: none;" >
                        </div>
                        <div class="row mt-3">
                            <label for="select" style="color: #fc444c;">mm</label>

                            <input type="number" class="form-control" id="mm" style=" border-top: none !important;
                                border-right: none; border-left: none;" placeholder="5.000">
                        </div>
                        <div class="row mt-5">
                            <div class="col-sm-5 mx-auto" style="padding-left: 4rem; padding-right: 4rem;">
                                <button type="submit"  class="btn"
                                    style="width: 90%; background: #fc444c; color: white;" onclick="saveIrrigation()">Guardar</button>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="offcanvas offcanvas-start" tabindex="-1" style="max-width: 60%; " id="offcanvasExample"
        aria-labelledby="offcanvasExampleLabel">
        <div class="offcanvas-header">

            <button type="button" class="btn-close text-reset" style="color:#fc444c !important;"
                data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <div class="row">
                <div class="col-sm-1 mx-auto">
                    <div class="text-center">
                        <img src="assets/img/avatar.png" class="rounded img-fluid"
                            style="border-radius: 50% !important;    height: 4rem;">
                        <h6 class="mb-0" style="color:#fc444c;margin-top: 4px;"> Juana Doe</h6>
                        <p class="text-secondary" style="font-size: small; ">juandoe@gmail.com</p>
                    </div>
                </div>
            </div>
            <div>
                <div class="list-group mt-5">
                    <a href="#" class="list-group-item list-group-item-action list-group-item-light"
                        style="border:none; display: flex; text-align: center;">
                        <i class="fas fa-home" style="margin-right: 2rem;"></i>
                        <p>Home</p>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action list-group-item-light"
                        style="border:none; display: flex; text-align: center;">
                        <i class="fas fa-chart-area" style="margin-right: 2rem;"></i>
                        <p>Riego</p>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action list-group-item-light"
                        style="border:none; display: flex; text-align: center;">
                        <i class="fas fa-cloud-sun" style="margin-right: 2rem;"></i>
                        <p>Clima</p>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action list-group-item-light"
                        style="border:none; display: flex; text-align: center;">
                        <i class="far fa-chart-bar" style="margin-right: 2rem;"></i>
                        <p>Indices</p>
                    </a>
                </div>
            </div>
        </div>
        <!-- scripts bootstrap-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
            integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js"
            integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT"
            crossorigin="anonymous"></script>
            <script src="https://code.jquery.com/jquery-3.6.0.min.js"
         integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        
        <script>
            function saveIrrigation() {
                const fecha = $('#fecha').val();
                const mm = $('#mm').val();

                console.log(fecha, mm);

                $.ajax({
                    type: 'POST',
                    url: 'http://localhost:3000/irrigations',
                    success: function () {
                        alert('Cargado Correctamente')
                        location.href = "principal.html";
                    },
                    error: function () { alert('Algo fall√≥') },
                    data: JSON.stringify({
                        fecha,
                        mm
                    }),
                    dataType: "json",
                    encode: true,
                    contentType: 'application/json'
                })
            }
        </script>


</body>

</html>